import{d as L,n as q,r as d,c as h,a as H,o as r,w as K,b as e,e as l,f as n,g as a,h as p,v as U,F as w,i as C,t as s,k as z,W as v}from"./app-0xfeTETD.js";import{_ as O}from"./AppLayout.vue_vue_type_script_setup_true_lang-Czkn1H1y.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BRkfCIi1.js";import"./index-1Zo7FGYr.js";const Q={class:"p-8 min-h-screen bg-background text-foreground"},X={class:"bg-card/90 backdrop-blur p-4 rounded-2xl border border-white/10 shadow-md shadow-[#190019]/20 mb-6 flex flex-wrap gap-4 items-end"},Y={class:"flex flex-col"},Z={class:"flex flex-col"},ee={class:"flex flex-col"},oe={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},te={class:"bg-card/90 backdrop-blur rounded-2xl border border-white/10 shadow-md shadow-[#190019]/20 p-4 lg:col-span-2"},se={class:"max-h-[480px] overflow-auto divide-y"},re={class:"font-medium"},le={class:"text-xs text-muted-foreground mb-1"},de={class:"text-xs text-muted-foreground"},ne={key:0,class:"text-[11px] text-muted-foreground mt-1"},ae={key:0},ie={class:"flex flex-col items-end gap-1"},ue={class:"text-[11px] text-muted-foreground"},pe=["onClick"],be={class:"bg-card/90 backdrop-blur rounded-2xl border border-white/10 shadow-md shadow-[#190019]/20 p-4"},ce={class:"max-h-[480px] overflow-auto space-y-3 text-xs"},xe={class:"flex justify-between mb-1"},ve={class:"font-medium text-foreground"},me={class:"uppercase text-[10px] px-2 py-0.5 rounded-full bg-secondary/40"},fe={class:"text-[11px] text-muted-foreground mb-1"},ge={class:"text-foreground"},ye={key:0},_e={class:"text-[11px]"},ke={key:0},he={key:1},we={key:0,class:"mt-8 bg-card/90 backdrop-blur rounded-2xl border border-white/10 shadow-md shadow-[#190019]/20 p-4"},Ce={class:"space-y-2 text-xs"},Ie={class:"font-medium"},De={class:"text-[11px] text-muted-foreground"},je={key:0,class:"flex gap-2"},Ve=["onClick"],Me=["onClick"],Se={key:1,class:"fixed inset-0 bg-black/40 flex items-center justify-center z-50"},Ue={class:"bg-card rounded-2xl border border-border p-6 w-full max-w-lg space-y-4"},ze={class:"space-y-2 text-sm"},Ae={class:"flex flex-col gap-1"},Ee={class:"flex flex-col gap-1"},$e={class:"flex flex-col gap-1"},Fe={class:"flex justify-end gap-2 mt-4"},Pe={key:2,class:"fixed inset-0 bg-black/40 flex items-center justify-center z-50"},Re={class:"bg-card rounded-2xl border border-border p-6 w-full max-w-lg space-y-4"},Te={class:"space-y-2 text-sm"},Be={class:"flex flex-col gap-1"},Je={class:"flex flex-col gap-1"},Ne={class:"flex flex-col gap-1"},We={class:"flex justify-end gap-2 mt-4"},Oe=L({__name:"Index",setup(Ge){const u=q(),F=[{title:"Dashboard",href:"/dashboard"},{title:"Asesores y Jurados",href:"/asesores-jurados"}],m=d(u.props.periodo??"2025-2"),A=d(u.props.filters??{area:"",estado:""}),P=h(()=>u.props.docentes??[]),R=h(()=>u.props.panels??[]),E=h(()=>u.props.invitaciones??[]),$=h(()=>u.props.canManage??!1),I=d(A.value.area??""),D=d(A.value.estado??""),f=d(!1),g=d(null),j=d("asesoria"),V=d(3),y=d(!1),M=d(null),_=d(null),S=d("asesor");function T(){v.get("/asesores-jurados",{periodo:m.value,area:I.value||void 0,estado:D.value||void 0},{preserveState:!0,preserveScroll:!0})}function B(){v.post("/panels",{curso_id:g.value,type:j.value,max_members:V.value,periodo:m.value},{onFinish:()=>{f.value=!1}})}function J(){v.post("/assignments",{panel_id:M.value,docente_id:_.value,role:S.value},{onFinish:()=>{y.value=!1}})}function N(k){v.put(`/assignments/${k}/aceptar`,{},{preserveScroll:!0})}function W(k){v.put(`/assignments/${k}/rechazar`,{},{preserveScroll:!0})}return(k,o)=>(r(),H(O,{breadcrumbs:F},{default:K(()=>[e("div",Q,[o[31]||(o[31]=e("h1",{class:"text-2xl font-bold mb-6"},"Asesores y Jurados",-1)),e("div",X,[e("div",Y,[o[12]||(o[12]=e("label",{class:"text-xs text-muted-foreground mb-1"},"Periodo",-1)),a(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>m.value=t),class:"border border-border bg-background text-foreground p-2 rounded min-w-[120px]"},null,512),[[p,m.value]])]),e("div",Z,[o[13]||(o[13]=e("label",{class:"text-xs text-muted-foreground mb-1"},"Área / especialidad",-1)),a(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>I.value=t),placeholder:"Ej: Sistemas, Derecho...",class:"border border-border bg-background text-foreground p-2 rounded min-w-[200px]"},null,512),[[p,I.value]])]),e("div",ee,[o[15]||(o[15]=e("label",{class:"text-xs text-muted-foreground mb-1"},"Estado invitación",-1)),a(e("select",{"onUpdate:modelValue":o[2]||(o[2]=t=>D.value=t),class:"border border-border bg-background text-foreground p-2 rounded min-w-[160px]"},o[14]||(o[14]=[e("option",{value:""},"Todos",-1),e("option",{value:"invitado"},"Invitado",-1),e("option",{value:"aceptado"},"Aceptado",-1),e("option",{value:"rechazado"},"Rechazado",-1)]),512),[[U,D.value]])]),e("button",{type:"button",class:"px-4 py-2 rounded bg-primary text-primary-foreground hover:opacity-90",onClick:T}," Aplicar filtros "),$.value?(r(),l("button",{key:0,type:"button",class:"ml-auto px-4 py-2 rounded bg-purple-600 text-white hover:bg-purple-700",onClick:o[3]||(o[3]=()=>{f.value=!0,g.value=null})}," Crear panel ")):n("",!0)]),e("div",oe,[e("div",te,[o[16]||(o[16]=e("h2",{class:"text-sm font-semibold mb-3"},"Docentes disponibles",-1)),e("div",se,[(r(!0),l(w,null,C(P.value,t=>(r(),l("div",{key:t.id,class:"py-3 flex items-start justify-between gap-4"},[e("div",null,[e("div",re,s(t.nombre)+" "+s(t.apellido),1),e("div",le," DNI: "+s(t.dni)+" · Correo: "+s(t.email),1),e("div",de," Especialidad: "+s(t.especialidad||"—"),1),t.advisor_profile?(r(),l("div",ne,[z(" Carga actual: "+s(t.advisor_profile.current_load)+" / "+s(t.advisor_profile.max_load)+" ",1),t.advisor_profile.main_area?(r(),l("span",ae," · Área principal: "+s(t.advisor_profile.main_area),1)):n("",!0)])):n("",!0)]),e("div",ie,[e("span",ue," Cursos periodo: "+s((t.cursos||[]).length+(t.cursos_colabora||[]).length),1),$.value?(r(),l("button",{key:0,type:"button",class:"px-2 py-1 rounded bg-secondary text-xs hover:bg-secondary/80",onClick:()=>{y.value=!0,_.value=t.id}}," Invitar a panel ",8,pe)):n("",!0)])]))),128))])]),e("div",be,[o[19]||(o[19]=e("h2",{class:"text-sm font-semibold mb-3"},"Paneles",-1)),e("div",ce,[(r(!0),l(w,null,C(R.value,t=>{var b,c;return r(),l("div",{key:t.id,class:"border border-border/40 rounded-xl p-3 bg-background/40"},[e("div",xe,[e("div",ve,s((b=t.curso)==null?void 0:b.codigo)+" - "+s((c=t.curso)==null?void 0:c.nombre),1),e("span",me,s(t.type),1)]),e("div",fe,[o[17]||(o[17]=z(" Estado: ")),e("span",ge,s(t.status),1),t.scheduled_at?(r(),l("span",ye," · Fecha: "+s(t.scheduled_at),1)):n("",!0)]),e("div",_e,[o[18]||(o[18]=z(" Miembros: ")),(t.assignments||[]).length===0?(r(),l("span",ke,"Sin asignar")):(r(),l("span",he,[(r(!0),l(w,null,C(t.assignments,i=>{var x;return r(),l("span",{key:i.id,class:"inline-block mr-1"},s((x=i.docente)==null?void 0:x.nombre)+" ("+s(i.role)+" - "+s(i.status)+") ",1)}),128))]))])])}),128))])])]),E.value.length?(r(),l("div",we,[o[20]||(o[20]=e("h2",{class:"text-sm font-semibold mb-3"},"Mis invitaciones",-1)),e("div",Ce,[(r(!0),l(w,null,C(E.value,t=>{var b,c,i,x;return r(),l("div",{key:t.id,class:"border border-border/40 rounded-xl px-3 py-2 flex items-center justify-between gap-4"},[e("div",null,[e("div",Ie,s((c=(b=t.panel)==null?void 0:b.curso)==null?void 0:c.codigo)+" - "+s((x=(i=t.panel)==null?void 0:i.curso)==null?void 0:x.nombre),1),e("div",De," Rol: "+s(t.role)+" · Estado: "+s(t.status),1)]),t.status==="invitado"?(r(),l("div",je,[e("button",{class:"px-3 py-1 rounded bg-green-600 text-white text-[11px]",onClick:G=>N(t.id)}," Aceptar ",8,Ve),e("button",{class:"px-3 py-1 rounded bg-red-600 text-white text-[11px]",onClick:G=>W(t.id)}," Rechazar ",8,Me)])):n("",!0)])}),128))])])):n("",!0),f.value?(r(),l("div",Se,[e("div",Ue,[o[25]||(o[25]=e("h3",{class:"text-lg font-semibold mb-2"},"Crear panel",-1)),e("div",ze,[e("label",Ae,[o[21]||(o[21]=e("span",null,"Curso (ID)",-1)),a(e("input",{"onUpdate:modelValue":o[4]||(o[4]=t=>g.value=t),type:"number",class:"border border-border bg-background text-foreground p-2 rounded",placeholder:"ID del curso"},null,512),[[p,g.value,void 0,{number:!0}]])]),e("label",Ee,[o[23]||(o[23]=e("span",null,"Tipo",-1)),a(e("select",{"onUpdate:modelValue":o[5]||(o[5]=t=>j.value=t),class:"border border-border bg-background text-foreground p-2 rounded"},o[22]||(o[22]=[e("option",{value:"asesoria"},"Asesoría",-1),e("option",{value:"jurado"},"Jurado",-1),e("option",{value:"sustentacion"},"Sustentación",-1)]),512),[[U,j.value]])]),e("label",$e,[o[24]||(o[24]=e("span",null,"Máximo de miembros",-1)),a(e("input",{"onUpdate:modelValue":o[6]||(o[6]=t=>V.value=t),type:"number",min:"1",max:"10",class:"border border-border bg-background text-foreground p-2 rounded"},null,512),[[p,V.value,void 0,{number:!0}]])])]),e("div",Fe,[e("button",{type:"button",class:"px-3 py-1 rounded border border-border text-sm",onClick:o[7]||(o[7]=t=>f.value=!1)}," Cancelar "),e("button",{type:"button",class:"px-4 py-2 rounded bg-primary text-primary-foreground text-sm",onClick:B}," Guardar panel ")])])])):n("",!0),y.value?(r(),l("div",Pe,[e("div",Re,[o[30]||(o[30]=e("h3",{class:"text-lg font-semibold mb-2"},"Invitar a panel",-1)),e("div",Te,[e("label",Be,[o[26]||(o[26]=e("span",null,"ID del panel",-1)),a(e("input",{"onUpdate:modelValue":o[8]||(o[8]=t=>M.value=t),type:"number",class:"border border-border bg-background text-foreground p-2 rounded",placeholder:"ID panel"},null,512),[[p,M.value,void 0,{number:!0}]])]),e("label",Je,[o[27]||(o[27]=e("span",null,"ID del docente",-1)),a(e("input",{"onUpdate:modelValue":o[9]||(o[9]=t=>_.value=t),type:"number",class:"border border-border bg-background text-foreground p-2 rounded",placeholder:"ID docente"},null,512),[[p,_.value,void 0,{number:!0}]])]),e("label",Ne,[o[29]||(o[29]=e("span",null,"Rol",-1)),a(e("select",{"onUpdate:modelValue":o[10]||(o[10]=t=>S.value=t),class:"border border-border bg-background text-foreground p-2 rounded"},o[28]||(o[28]=[e("option",{value:"asesor"},"Asesor",-1),e("option",{value:"jurado"},"Jurado",-1),e("option",{value:"presidente"},"Presidente",-1)]),512),[[U,S.value]])])]),e("div",We,[e("button",{type:"button",class:"px-3 py-1 rounded border border-border text-sm",onClick:o[11]||(o[11]=t=>y.value=!1)}," Cancelar "),e("button",{type:"button",class:"px-4 py-2 rounded bg-primary text-primary-foreground text-sm",onClick:J}," Enviar invitación ")])])])):n("",!0)])]),_:1}))}});export{Oe as default};
